# DEM 与数字地形分析

## DEM 基本概念

### 数字高程模型

##### 数字高程模型 (DEM)

- 利用有限的地面高程数据;
- 实现地形曲面的数字化表达;

**数学定义**: 二维空间上的连续函数;

##### 数字地面模型模型术语

- DEM: 高程;
- DHM: 高程;
- DGM: 高程 + 地表形态;
- DTM: 自然 + 人文 + 社会;

##### 类型

- 范围;
  - 局部;
  - 地区;
  - 全局;
- 连续性;
  - 不连续;
  - 连续;
  - 光滑;
- 数据结构;
  - 规则格网 DEM;
  - 多边形 DEM;
  - TIN;
  - 基于点的 DEM;
  - 基于等高线的 DEM;

### DEM 建立

##### 一般步骤

- 构造空间结构;
- 构造内插函数;
- 利用内插函数进行分析;

### 格网 DEM

##### 格网 DEM

- 规则栅格矩阵;
- 栅格值为高程值;

##### 优点

- 简单直接;
- 与遥感数据对应;

##### 缺点

- 数据冗余;
- 无法表达详细地形结构;

##### 格网 DEM 的建立

- 研究区域格网划分;
- 构造内插函数;
- 利用内插函数内插计算;

### TIN

**TIN**: 最优结构三角面;

##### 优点

- 可变分辨率;
- 可表达详细地形结构;

##### 缺点

- 数据结构复杂;
- 储存复杂;

##### 三角形要求

- 尽量接近正三角形;
- 最近三个点构造三角形;
- 三角网络唯一;

##### 三角剖分准则

- 空外接圆准则;
- 最大最小角准则;
- 最短距离和准则;
- 张角最大准则;
- 面积比法;
- 对角线准则;

##### Delaunay 三角剖分

- 空外接圆准则;
- 最大最小角准则;

##### 三角网生长算法

- 任取一点, 相连最近点作为初始基线;
- 应用 Delaunay 法则搜索第三点, 生成 Delaunay 三角形;
- 三角形的两条新边作为新的基线;
- 重复前列过程直至处理所有点;

### 等高线的建立

- Gird;
- TIN;

## 数字地形分析

##### 数字地形分析

- 基于数字高程模型;
- 进行地形因子计算和地形特征提取;

### 基本因子分析

**坡度**: 切平面与水平地面的夹角;

---

**坡向**: 切平面法线矢量在水平面的投影与正北方向的夹角;

##### 坡向值规定

- 正北方向 0 度;
- 顺时针方向为正方向;

---

##### 平面曲率

- 地表水平面切地形表面;
- 生成的水平曲线曲率;

##### 剖面曲率

- 地表垂直面沿最大坡降方向切地形表面;
- 生成的垂直曲线曲率;

##### 坡度变率 (SOS)

- 即坡度之坡度;

##### 坡向变率 (SOA)

- 即坡向之坡度;

---

##### 地表起伏度

- 分析窗口高程最值之差;
- 反映地形起伏;

---

##### 地表粗糙度

- 曲面面积/水平面上的投影面积;
- 反映地形起伏和侵蚀程度;
- $R=\frac{1}{\cos \theta},\theta$ 为坡度;

---

##### 地表切割深度

- 分析窗口高程平均值与最小值之差;
- 反映地表侵蚀程度;

### 地形特征分析

##### 地形特征分析

- 地形特征点提取;
- 地表特征线提取;

---

##### 地形特征点

- 山顶点;
- 凹陷点;
- 脊点;
- 谷点;
- 鞍点;
- 平地点;

**提取方法**:

- 建立 3\*3 的分析窗口;
- 利用中心点与 8 个邻域格网点的高程关系;
- 或利用 x,y 方向上高程的二阶导数的正负组合关系. 

---

##### 地形特征线提取

##### 基于图像处理技术的原理

- 2×2 分析窗口扫描;
- 标记分析窗口最低点, 未被标记点为脊点;
- 标记分析窗口最高点, 未被标记点为谷点;

##### 基于地形表面几何形态分析原理

- 构造地形断面曲线 (横截面);
- 高程极大值点为分水点;
- 高程极小值点为汇水点;

##### 基于地形表面流水物理模拟分析原理的算法

- 顺序计算栅格点上汇水量;
- 按汇水量单调增加的顺序构造汇水线;
- 计算汇水区域边界线 (分水线);

##### 基于地形表面几何形态分析和流水物理模拟分析相结合

- 地形表面流水物理模拟;
- 概括地形特征线提取;
- 地形表面几何形态分析;
- 精细地形特征线提取;

##### 平面曲率与坡位组合法

- 提取地面的平面曲率;
- 提取地面的正负地形;
- 正地形上平面曲率的大值为山脊;
- 负地形上平面曲率的大值为山谷;

### 流域分析

**流域 (集水区)**: 河流获得补给的陆地面积.  
**分水线**: 两个相邻集水区之间的最高点连接成的不规则曲线;

##### 流域提取

- 洼地填充: 提高洼地栅格值;
- 水流方向确定: 最陡的坡度;
- 汇流累计矩阵生成: 沿水流方向累加;
- 流域网络提取;
  - 设定阈值;
  - 高于阈值栅格为沟谷网络;

### 可视性分析

##### 判断两点之间的可视性的算法

- 连接观察点和目标点, 作线段 L;
- 确定过线段 L 的地表垂直面 S;
- 求出地表与地表垂直面 S 相交的所有边;
- 判断相交的所有边是否与线段 L 相交;
- 相交则不可视;

##### 计算可视域的算法

- 依次沿不同视线方向;
- 依次计算与视线相交的栅格;
- 依次判断相交栅格是否可视;
